{"ast":null,"code":"import _slicedToArray from\"C:/Users/Robo/Documents/madebyme/koulu/Fullstack/osa3/puhelinluettelo/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import personService from'./services/persons';import'./index.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Content=function Content(_ref){var parts=_ref.parts,notif=_ref.notif;return/*#__PURE__*/_jsx(_Fragment,{children:parts.map(function(part){return/*#__PURE__*/_jsx(Person,{parts:part,notif:notif},part.name);})});};var Person=function Person(_ref2){var parts=_ref2.parts,notif=_ref2.notif;var delPerson=function delPerson(event){event.preventDefault();if(window.confirm(\"Delete '\".concat(parts.name,\"' ?\"))){personService.delPerson(parts.id).then(function(){notif(\"Deleted '\".concat(parts.name,\"'\"));setTimeout(function(){notif(null);},2000);}).catch(function(error){console.log(\"fail\",error);});}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:delPerson,children:[/*#__PURE__*/_jsxs(_Fragment,{children:[parts.name,\" \",parts.number,\" \"]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"delete\"})]})});};var Notification=function Notification(_ref3){var message=_ref3.message;if(message===null){return null;}return/*#__PURE__*/_jsx(\"div\",{className:\"message\",children:message});};var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),persons=_useState2[0],setPersons=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),newName=_useState4[0],setNewName=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),newNumber=_useState6[0],setNewNumber=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),notification=_useState8[0],setErrorMessage=_useState8[1];useEffect(function(){personService.getAll().then(function(initialPersons){setPersons(initialPersons);}).catch(function(error){console.log(\"fail\",error);});},[]);var addPerson=function addPerson(event){event.preventDefault();if(persons.find(function(persons){return persons.name===newName;})===undefined){var personObject={name:newName,number:newNumber};personService.create(personObject).then(function(returnedPerson){setPersons(persons.concat(returnedPerson));setErrorMessage(\"Added '\".concat(newName,\"'\"));setNewName('');setNewNumber('');setTimeout(function(){setErrorMessage(null);},2000);}).catch(function(error){console.log(\"fail\",error);});}else{alert(\"\".concat(newName,\" is already added to phonebook\"));}};var handlePersonChange=function handlePersonChange(event){setNewName(event.target.value);};var handleNumberChange=function handleNumberChange(event){setNewNumber(event.target.value);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Notification,{message:notification}),/*#__PURE__*/_jsx(\"h2\",{children:\"Phonebook\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:addPerson,children:[/*#__PURE__*/_jsxs(_Fragment,{children:[\"name: \",/*#__PURE__*/_jsx(\"input\",{value:newName,onChange:handlePersonChange})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(_Fragment,{children:[\"number: \",/*#__PURE__*/_jsx(\"input\",{value:newNumber,onChange:handleNumberChange})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"add\"})]}),/*#__PURE__*/_jsx(\"h2\",{children:\"Numbers\"}),/*#__PURE__*/_jsx(Content,{parts:persons,notif:setErrorMessage})]});};export default App;","map":{"version":3,"names":["useState","useEffect","personService","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Content","_ref","parts","notif","children","map","part","Person","name","_ref2","delPerson","event","preventDefault","window","confirm","concat","id","then","setTimeout","catch","error","console","log","onSubmit","number","type","Notification","_ref3","message","className","App","_useState","_useState2","_slicedToArray","persons","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","notification","setErrorMessage","getAll","initialPersons","addPerson","find","undefined","personObject","create","returnedPerson","alert","handlePersonChange","target","value","handleNumberChange","onChange"],"sources":["C:/Users/Robo/Documents/madebyme/koulu/Fullstack/osa3/puhelinluettelo/frontend/src/App.js"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport personService from './services/persons'\nimport './index.css'\n\nconst Content = ({parts, notif}) => {\n  return (\n    <>\n      {parts.map(part =>\n        <Person key={part.name} parts={part} notif={notif}  />\n      )}\n    </>\n  )\n}\n\nconst Person = ({parts, notif}) => {\n  const delPerson = (event) => {\n    event.preventDefault()\n    if (window.confirm(`Delete '${parts.name}' ?`))\n    {\n      personService\n        .delPerson(parts.id)\n        .then(() => {\n          notif( `Deleted '${parts.name}'`)\n          setTimeout(() => {\n            notif(null)\n          }, 2000)\n        }\n          \n        )\n        .catch(error => {\n          console.log(\"fail\", error)\n        })\n    }\n    \n  }\n  \n  return (\n    <>\n      <form onSubmit={delPerson}>\n        <>{parts.name} {parts.number} </>\n        <button type=\"submit\">delete</button>\n      </form>\n    </>\n  )\n}\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className=\"message\">\n      {message}\n    </div>\n  )\n}\n\nconst App = () => {\n  const [persons, setPersons] = useState([]) \n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [notification, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n      .catch(error => {\n        console.log(\"fail\", error)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    if (persons.find(persons => persons.name === newName) === undefined) {\n      const personObject = {\n        name: newName,\n        number: newNumber,\n      }\n    \n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setErrorMessage( `Added '${newName}'`)\n          setNewName('')\n          setNewNumber('')\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 2000)\n        })\n        .catch(error => {\n          console.log(\"fail\", error)\n        })\n    }\n    else\n    {\n      alert(`${newName} is already added to phonebook`)\n    }\n  }\n\n  const handlePersonChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  return (\n    <div>\n      <Notification message={notification} />\n      <h2>Phonebook</h2>\n      <form onSubmit={addPerson}>\n        <>name: <input value={newName} onChange={handlePersonChange} /></><br></br>\n        <>number: <input value={newNumber} onChange={handleNumberChange} /></><br></br>\n        <button type=\"submit\">add</button>\n      </form>\n      <h2>Numbers</h2>\n      <Content parts={persons} notif={setErrorMessage} />\n    </div>\n  )\n\n}\n\nexport default App"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}